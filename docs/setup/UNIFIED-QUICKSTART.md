# ğŸ¯ ç»Ÿä¸€æ•°æ®æ¨¡å‹ - å¿«é€Ÿå¼€å§‹

## âœ¨ æ ¸å¿ƒæ¦‚å¿µ

**ä¸€ä¸ªæ•°æ®æ¨¡å‹ï¼Œæ‰€æœ‰ç±»å‹çš„å†…å®¹**

ä¸å†éœ€è¦ä¸ºæ¯ç§å†…å®¹ç±»å‹åˆ›å»ºç‹¬ç«‹çš„æ¨¡å‹ï¼Œåªéœ€è¦ï¼š
1. åˆ›å»ºå†…å®¹ï¼Œé€‰æ‹© **åˆ†ç±»ï¼ˆcategoryï¼‰**
2. å¡«å†™ç›¸å…³å­—æ®µï¼ˆå¯é€‰ï¼‰
3. å‰ç«¯è‡ªåŠ¨æ ¹æ®åˆ†ç±»å±•ç¤º

---

## ğŸš€ 5 åˆ†é’Ÿå¼€å§‹ä½¿ç”¨

### æ­¥éª¤ 1: é‡å¯ Sanity Studio

ç»Ÿä¸€æ¨¡å‹å·²ç»åˆ›å»ºå¥½äº†ï¼Œéœ€è¦é‡å¯ Studio æ‰èƒ½çœ‹åˆ°æ–°çš„æ¨¡å‹ï¼š

```bash
cd /Users/xiaowanyu/03_å­µåŒ–é¡¹ç›®/ChinaMatri/studio
npm run dev
```

è®¿é—®: http://localhost:3333

### æ­¥éª¤ 2: åˆ›å»ºç¬¬ä¸€æ¡å†…å®¹

1. ç‚¹å‡» **"Create"** æŒ‰é’®
2. é€‰æ‹© **"å†…å®¹æ¡ç›® (Entry)"**
3. å¡«å†™ä¿¡æ¯ï¼š

**ç¤ºä¾‹ - æ·»åŠ å¥³ç¥ï¼š**
```
æ ‡é¢˜: å¥³å¨²
åˆ†ç±»: ğŸ—ºï¸ å¥³ç¥ (goddess)
å­åˆ†ç±»: åˆ›ä¸–å¥³ç¥ (creation)
å‰¯æ ‡é¢˜: åˆ›ä¸–å¥³ç¥
ç®€ä»‹: ä¸­å›½ä¸Šå¤ç¥è¯ä¸­çš„åˆ›ä¸–å¥³ç¥
æ ‡ç­¾: åˆ›ä¸–, è¡¥å¤©, é€ äºº
é‡ç‚¹å±•ç¤º: âœ“
```

**ç¤ºä¾‹ - æ·»åŠ è€ƒå¤é—å€ï¼š**
```
æ ‡é¢˜: åŠå¡é—å€
åˆ†ç±»: ğŸ—ºï¸ è€ƒå¤é—å€ (site)
å­åˆ†ç±»: ä»°éŸ¶æ–‡åŒ– (yangshao)
å‰¯æ ‡é¢˜: ä»°éŸ¶æ–‡åŒ–
å¹´ä»£/æ—¶æœŸ: å…¬å…ƒå‰4800-3600å¹´
åœ°ç†ä½ç½®:
  åæ ‡: 34.28, 109.04
  åœ°åŒº: é™•è¥¿è¥¿å®‰
```

### æ­¥éª¤ 3: æŸ¥çœ‹å‰ç«¯æ•ˆæœ

æ‰“å¼€ `goddess-cms.html` æŸ¥çœ‹è‡ªåŠ¨æ¸²æŸ“çš„å†…å®¹

---

## ğŸ“Š æ‰¹é‡å¯¼å…¥æ•°æ®

### å‡†å¤‡ CSV æ–‡ä»¶

åˆ›å»ºæˆ–ç¼–è¾‘ `data/entries-example.csv`:

```csv
title,category,subcategory,subtitle,summary,latitude,longitude,tags
å¥³å¨²,goddess,creation,åˆ›ä¸–å¥³ç¥,åˆ›ä¸–ç¥è¯,"","","åˆ›ä¸–,è¡¥å¤©"
åŠå¡é—å€,site,yangshao,ä»°éŸ¶æ–‡åŒ–,é»„æ²³æµåŸŸæ–°çŸ³å™¨æ—¶ä»£,34.28,109.04,"ä»°éŸ¶,æ¯ç³»æ°æ—"
```

### è¿è¡Œå¯¼å…¥

```bash
# å®‰è£…ä¾èµ–
npm install

# å¯¼å…¥æ•°æ®
npm run import data/entries-example.csv

# æˆ–ä½¿ç”¨å®Œæ•´å‘½ä»¤
node src/data/import-unified.js data/entries-example.csv
```

---

## ğŸ“¤ å¯¼å‡ºæ•°æ®åˆ° Excel

```bash
# å¯¼å‡ºæ‰€æœ‰æ•°æ®
npm run export

# å¯¼å‡ºç‰¹å®šåˆ†ç±»
npm run export goddess
npm run export site

# å¯¼å‡ºåˆ°æŒ‡å®šæ–‡ä»¶
npm run export scholar data/my-scholars.csv
```

---

## ğŸ¨ å‰ç«¯ä½¿ç”¨

åœ¨ä»»ä½• HTML é¡µé¢ä¸­ï¼š

```html
<script src="src/js/sanity-unified.js"></script>

<script>
  // è·å–å¥³ç¥æ•°æ®
  const goddesses = await SanityAPI.getByCategory('goddess');
  
  // è·å–åˆ›ä¸–å¥³ç¥
  const creationGoddesses = await SanityAPI.getByCategory('goddess', 'creation');
  
  // è·å–æ‰€æœ‰è€ƒå¤é—å€
  const sites = await SanityAPI.getSites();
  
  // æœç´¢
  const results = await SanityAPI.search('å¥³å¨²');
</script>
```

---

## ğŸ“ æ”¯æŒçš„åˆ†ç±» (category)

| åˆ†ç±»å€¼ | ä¸­æ–‡å | å¯¹åº”é¡µé¢ |
|--------|--------|----------|
| `goddess` | å¥³ç¥ | goddess.html |
| `site` | è€ƒå¤é—å€ | map.html |
| `scholar` | å­¦è€… | scholars.html |
| `work` | è®ºè‘— | works.html |
| `community` | ç°å­˜æ°æ— | communities.html |

---

## ğŸ”‘ å¿…å¡«å­—æ®µ vs å¯é€‰å­—æ®µ

### âœ… å¿…å¡«
- `title` - æ ‡é¢˜
- `category` - åˆ†ç±»

### ğŸ“ æ¨èå¡«å†™
- `subtitle` - å‰¯æ ‡é¢˜
- `summary` - ç®€ä»‹
- `mainImage` - ä¸»å›¾ç‰‡

### ğŸŒŸ æ ¹æ®ç±»å‹é€‰å¡«

**è€ƒå¤é—å€ (site):**
- `location.coordinates` (åæ ‡)
- `dateRange` (å¹´ä»£)

**å¥³ç¥ (goddess):**
- `subcategory` (å­åˆ†ç±»)
- `tags` (æ ‡ç­¾)

**å­¦è€… (scholar):**
- `personInfo.field` (ç ”ç©¶é¢†åŸŸ)
- `works` (ä»£è¡¨ä½œå“)

**è®ºè‘— (work):**
- `workInfo.author` (ä½œè€…)
- `year` (å¹´ä»½)

---

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

### 1. æ‰¹é‡æ“ä½œæµç¨‹

```
å¯¼å‡º CSV â†’ Excel ç¼–è¾‘ â†’ å¯¼å…¥ CMS
```

```bash
# å¯¼å‡º
npm run export goddess data/goddesses.csv

# åœ¨ Excel ä¸­ç¼–è¾‘ data/goddesses.csv

# é‡æ–°å¯¼å…¥
npm run import data/goddesses.csv
```

### 2. æœç´¢å’Œç­›é€‰

åœ¨ Sanity Studio ä¸­ï¼Œå¯ä»¥æŒ‰åˆ†ç±»ç­›é€‰ï¼š
- ç‚¹å‡»å·¦ä¾§ "å†…å®¹æ¡ç›®"
- ä½¿ç”¨ Filter åŠŸèƒ½
- æŒ‰ category ç­›é€‰

### 3. çµæ´»ä½¿ç”¨å­—æ®µ

ä¸åŒç±»å‹çš„å†…å®¹å¯ä»¥ä½¿ç”¨ä¸åŒçš„å­—æ®µç»„åˆï¼š
- å¥³ç¥å¯ä»¥å¡«å†™ `tags`ï¼ˆæ ‡ç­¾ï¼‰
- é—å€å¯ä»¥å¡«å†™ `location`ï¼ˆä½ç½®ï¼‰
- å­¦è€…å¯ä»¥å¡«å†™ `personInfo`ï¼ˆäººç‰©ä¿¡æ¯ï¼‰

---

## ğŸ‰ ä¼˜åŠ¿æ€»ç»“

âœ… **æ›´ç®€å•** - åªéœ€è¦ç®¡ç†ä¸€ä¸ªå†…å®¹ç±»å‹  
âœ… **æ›´çµæ´»** - å­—æ®µéƒ½æ˜¯å¯é€‰çš„  
âœ… **ç±»ä¼¼ Excel** - æ”¯æŒæ‰¹é‡å¯¼å…¥å¯¼å‡º  
âœ… **è‡ªåŠ¨åˆ†ç±»** - å‰ç«¯æ ¹æ® category è‡ªåŠ¨å±•ç¤º  
âœ… **æ˜“äºæ‰©å±•** - æ·»åŠ æ–°åˆ†ç±»å¾ˆç®€å•  

---

## ğŸ“š æ›´å¤šæ–‡æ¡£

- è¯¦ç»†æŒ‡å—: `UNIFIED-MODEL-GUIDE.md`
- é¡¹ç›®ç»“æ„: `PROJECT-STRUCTURE.md`
- éƒ¨ç½²æŒ‡å—: `DEPLOYMENT.md`

---

## ğŸ†˜ å¸¸è§é—®é¢˜

**Q: æˆ‘ä¹‹å‰åˆ›å»ºçš„ç‹¬ç«‹æ¨¡å‹æ€ä¹ˆåŠï¼Ÿ**
A: å¯ä»¥ç»§ç»­ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥è¿ç§»åˆ°ç»Ÿä¸€æ¨¡å‹ã€‚ä¸¤è€…å¯ä»¥å…±å­˜ã€‚

**Q: å¦‚ä½•æ·»åŠ æ–°çš„åˆ†ç±»ï¼Ÿ**
A: ç¼–è¾‘ `studio/schemas/entry.js`ï¼Œåœ¨ `category` å­—æ®µçš„ `options.list` ä¸­æ·»åŠ ã€‚

**Q: CSV å¯¼å…¥å¤±è´¥ï¼Ÿ**
A: æ£€æŸ¥ CSV æ–‡ä»¶æ˜¯å¦åŒ…å« `title` å’Œ `category` è¿™ä¸¤ä¸ªå¿…å¡«åˆ—ã€‚

**Q: å‰ç«¯çœ‹ä¸åˆ°æ•°æ®ï¼Ÿ**
A: ç¡®ä¿åœ¨ Sanity Studio ä¸­ç‚¹å‡»äº† "Publish" æŒ‰é’®ã€‚

---

âœ¨ **å¼€å§‹ä½¿ç”¨ç»Ÿä¸€æ•°æ®æ¨¡å‹ï¼Œäº«å—æ›´é«˜æ•ˆçš„å†…å®¹ç®¡ç†ï¼**





